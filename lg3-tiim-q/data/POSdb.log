/*C20*/SET SCHEMA PUBLIC
drop table if exists HISTORYENTRIES cascade 
drop table if exists SOLDITEMS cascade 
drop table if exists STOCKITEMS cascade 
create table HISTORYENTRIES (total_price float(53), id bigint generated by default as identity (start with 1), time_sold timestamp(6), primary key (id))
create table SOLDITEMS (price float(53), quantity integer, HISTORY_ENTRY_ID bigint not null, STOCKITEM_ID bigint not null, id bigint generated by default as identity (start with 1), time_sold timestamp(6), name varchar(255), primary key (id))
create table STOCKITEMS (price float(53), quantity integer, id bigint generated by default as identity (start with 1), description varchar(255), name varchar(255), primary key (id))
alter table SOLDITEMS add constraint FKjs9bmoob0871x2uwvy1v43jd9 foreign key (HISTORY_ENTRY_ID) references HISTORYENTRIES
alter table SOLDITEMS add constraint FK2iakm6j7xyqqwsixvyjvtd71o foreign key (STOCKITEM_ID) references STOCKITEMS
INSERT INTO STOCKITEMS VALUES(11.0E0,5,1,'Potato chips','Lays chips')
COMMIT
INSERT INTO STOCKITEMS VALUES(8.0E0,8,2,'Sweets','Chupa-chups')
COMMIT
INSERT INTO STOCKITEMS VALUES(15.0E0,12,3,'Beer sauseges','Frankfurters')
COMMIT
INSERT INTO STOCKITEMS VALUES(0.0E0,100,4,'Students delight','Free Beer')
COMMIT
/*C21*/SET SCHEMA PUBLIC
drop table if exists HISTORYENTRIES cascade 
drop table if exists SOLDITEMS cascade 
drop table if exists STOCKITEMS cascade 
create table HISTORYENTRIES (total_price float(53), id bigint generated by default as identity (start with 1), time_sold timestamp(6), primary key (id))
create table SOLDITEMS (price float(53), quantity integer, HISTORY_ENTRY_ID bigint not null, STOCKITEM_ID bigint not null, id bigint generated by default as identity (start with 1), time_sold timestamp(6), name varchar(255), primary key (id))
create table STOCKITEMS (price float(53), quantity integer, id bigint generated by default as identity (start with 1), description varchar(255), name varchar(255), primary key (id))
alter table SOLDITEMS add constraint FKjs9bmoob0871x2uwvy1v43jd9 foreign key (HISTORY_ENTRY_ID) references HISTORYENTRIES
alter table SOLDITEMS add constraint FK2iakm6j7xyqqwsixvyjvtd71o foreign key (STOCKITEM_ID) references STOCKITEMS
INSERT INTO STOCKITEMS VALUES(11.0E0,5,1,'Potato chips','Lays chips')
COMMIT
INSERT INTO STOCKITEMS VALUES(8.0E0,8,2,'Sweets','Chupa-chups')
COMMIT
INSERT INTO STOCKITEMS VALUES(15.0E0,12,3,'Beer sauseges','Frankfurters')
COMMIT
INSERT INTO STOCKITEMS VALUES(0.0E0,100,4,'Students delight','Free Beer')
COMMIT
/*C20*/DELETE FROM STOCKITEMS WHERE ID=1
INSERT INTO STOCKITEMS VALUES(11.0E0,4,1,'Potato chips','Lays chips')
COMMIT
DELETE FROM STOCKITEMS WHERE ID=1
INSERT INTO STOCKITEMS VALUES(11.0E0,1,1,'Potato chips','Lays chips')
COMMIT
DELETE FROM STOCKITEMS WHERE ID=1
INSERT INTO STOCKITEMS VALUES(11.0E0,0,1,'Potato chips','Lays chips')
COMMIT
DELETE FROM STOCKITEMS WHERE ID=1
INSERT INTO STOCKITEMS VALUES(11.0E0,1,1,'Potato chips','Lays chips')
COMMIT
DISCONNECT
/*C21*/DISCONNECT
